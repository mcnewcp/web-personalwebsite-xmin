---
title: Exploring Machine Learning Workflow with the Caret Package
author: Coy McNew
date: '2021-06-24'
slug: exploring-machine-learning-workflow-with-the-caret-package
output:
  blogdown::html_page:
    toc: true
    number_sections: true
categories: []
tags:
  - machine learning
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>

<div id="TOC">
<ul>
<li><a href="#objective"><span class="toc-section-number">1</span> Objective</a></li>
<li><a href="#datasets"><span class="toc-section-number">2</span> Datasets</a></li>
<li><a href="#exploratory-data-analysis"><span class="toc-section-number">3</span> Exploratory Data Analysis</a></li>
<li><a href="#model-training"><span class="toc-section-number">4</span> Model Training</a></li>
<li><a href="#model-performance"><span class="toc-section-number">5</span> Model Performance</a></li>
<li><a href="#model-selection"><span class="toc-section-number">6</span> Model Selection</a></li>
<li><a href="#model-visualization"><span class="toc-section-number">7</span> Model Visualization</a></li>
<li><a href="#conclusion"><span class="toc-section-number">8</span> Conclusion</a></li>
</ul>
</div>

<div id="objective" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Objective</h1>
<p>My objective with this post is to use a simple ML classification problem to explore the workflow afforded by the <a href="https://cran.r-project.org/web/packages/caret/vignettes/caret.html"><code>caret</code></a> package in R. Short for Classification And REgression Training, the <code>caret</code> package does exactly what it says on the tin, provides functions for regression and classification model training. It provides a uniform, streamlined interface for working with a multitude of ML algorithms, similar to scikit-learn in <code>Python</code>.</p>
<p>I’m going to use the ever reliable iris dataset here and I’m going to apply the following 5 algorithms:</p>
<ol style="list-style-type: decimal">
<li>Linear Discriminant Analysis (LDA)</li>
<li>Classification and Regression Trees (CART)</li>
<li>k-Nearest Neighbors (kNN)</li>
<li>Support Vector Machines (SVM)</li>
<li>Random Forest (RF)</li>
</ol>
<p><code>caret</code> provides an interface to a multitude of models and I’ve selected the above 5 for a mixture of linear and nonlinear methods, but any can be applied using a very similar procedure to what I’m using below.</p>
</div>
<div id="datasets" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Datasets</h1>
<p>Below I’m loading the iris dataset and splitting into training and test datasets using <code>createDataPartition()</code> from <code>caret</code>. Iris contains 4 numeric predictor variables that I’ll use to predict <code>Species</code>.</p>
<pre class="r"><code>library(caret)
library(tidyverse)

irisDF &lt;- iris

#split into train/test 80/20
index &lt;- createDataPartition(irisDF$Species, p = 0.8, list = FALSE)
irisDF_train &lt;- irisDF %&gt;%
  slice(index)
irisDF_test &lt;- irisDF %&gt;%
  slice(-index)

#look at the structure
str(irisDF)</code></pre>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div id="exploratory-data-analysis" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Exploratory Data Analysis</h1>
<p>The first thing I would always do for a proper EDA is take a look at some in depth descriptive statistics. Since I’m mainly just exploring the <code>caret</code> package here, I’m going to skip that step. The next step is to visualize univariate and bivariate relationships between the features and the dependent variable. <code>caret</code> provides <code>featurePlot()</code> to automate and streamline this process. It provides 5 plot options for classification and 2 for regression. I’ll take a look at the classification options below.</p>
<p>The first two plot types, “box” and “strip”, serve a similar purpose. They compare the range of feature values contained in each class of your predicted variable. This lets you see if there is any separation between classes based on any feature and also gives an indication of whether or not feature scaling will be important. “Box” achives this using box plots and “strip” achieves this by plotting the full dataset.</p>
<pre class="r"><code>x &lt;- irisDF_train %&gt;%
  select(-Species)
y &lt;- irisDF_train %&gt;%
  pull(Species)
featurePlot(x, y, &quot;box&quot;, scale = &quot;free&quot;)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>featurePlot(x, y, &quot;strip&quot;, scale = &quot;free&quot;, jitter = TRUE)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>In each case I allowed for free scales on each feature, which I wouldn’t want to do if I intended to compare the scales directly, e.g. to determine if feature scaling is necessary. I also added jitter to the “strip” plot as I think it’s far easier to see the distribution this way.</p>
<p>These plots are similar to a version I typically employ at the EDA stage of every project, which is a combination of the two using <code>ggplot2</code> and <code>plotly</code> for interactivity, as shown below.</p>
<pre class="r"><code>library(ggplot2)
library(plotly)
p &lt;- irisDF_train %&gt;%
  pivot_longer(!Species, names_to = &quot;feature&quot;) %&gt;%
  ggplot(aes(x = Species, y = value)) + 
  geom_boxplot() + 
  geom_jitter(aes(color = Species), height = 0, alpha = 0.7) + 
  facet_wrap(&quot;feature&quot;, scales = &quot;free&quot;) + 
  theme_bw()
ggplotly(p)</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":[{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"y":[1.4,1.4,1.5,1.4,1.4,1.1,1.5,1.5,1.5,1.3,1.6,1.6,1.7,1.4,1.4,1.6,1.7,1.7,1.6,1.5,1.9,1.7,1.5,1.4,1.5,1.5,1.5,1.6,1.3,1.4,1.4,1.4,1.6,1.3,1.5,1.5,1.9,1.2,1.4,1.6,3.3,4.7,4.6,4.6,4.5,4,3.9,4.7,4.9,4.7,3.5,4.7,4,3.6,4.2,4.3,4,4.4,4.5,4.4,4.9,4.5,3.5,4.8,4.1,4.8,3.8,5,4,4.5,3.7,4.2,4.4,4.4,3.9,3,4.6,5.1,4.1,4,6.3,6,5.8,6.6,5.1,5,6.1,4.5,5.9,5.1,5.1,5.7,5.6,5.3,5.5,6,6.7,5.5,6.1,4.8,4.9,6.9,6.4,5.6,5.1,5,5.6,5.8,5.1,5.4,5.1,5.2,5.9,5.6,6.1,5.4,5.2,4.8,5.1,5],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"},"size":5.66929133858268},"line":{"color":"rgba(51,51,51,1)","width":1.88976377952756},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"y":[0.2,0.1,0.4,0.5,0.3,0.1,0.2,0.2,0.2,0.4,0.2,0.2,0.4,0.3,0.2,0.2,0.1,0.2,0.2,0.6,0.2,0.2,0.4,0.4,0.2,0.2,0.1,0.2,0.2,0.4,0.2,0.2,0.1,0.3,0.2,0.2,0.2,0.2,0.2,0.2,1,1.5,1.3,1.3,1.4,1,1.4,1.5,1.5,1.4,1.4,1.2,1.8,1.3,1.7,1.3,1.6,1,1.5,1.2,1.3,1.2,1,1.4,1.3,1.6,1.1,1.2,1,1.3,1.4,1.3,1.3,1.5,1.5,1.1,1.4,1.6,1.5,1.3,2,2.1,1.8,2,1.8,2,1.8,1.8,2.3,2.4,2.1,2.1,1.5,2.3,1.6,1.9,2.1,1.5,1.9,2.3,2.4,2.3,2,2.3,2.3,1.8,2.2,1.9,1.8,1.8,2.5,2,1.8,2.1,1.9,2.3,2.5,1.7,2.1,1.8],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"},"size":5.66929133858268},"line":{"color":"rgba(51,51,51,1)","width":1.88976377952756},"showlegend":false,"xaxis":"x2","yaxis":"y2","frame":null},{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"y":[5.1,4.6,5,4.4,4.9,5.3,5.1,5.1,4.6,5,5.1,4.4,5.4,5.1,4.8,4.9,4.6,5.7,4.3,5.4,5,5.4,5.4,4.8,4.4,5.1,5.2,4.7,5,5.1,5.5,4.8,5.2,4.8,4.9,5.4,5.2,5,5,4.9,7,5.6,5.5,6.3,6.4,5.1,6.1,5.6,6.9,5.7,5.8,5.5,5.5,5.6,5.9,6.6,6.5,6.7,6,5.2,6.3,5.6,6.1,5,4.9,5.9,5.5,6.7,6.4,6.1,5.5,6,6.6,6.3,5.8,5.7,6.8,6.1,6,6,6.3,6.5,6.8,6.7,5.8,6.2,6.7,6.9,7.1,5.9,6.3,5.8,6.3,6.4,6.8,6.7,7.6,6.5,5.7,7.2,4.9,7.7,5.8,6.5,7.3,6,6.4,7.2,7.2,7.7,6.3,7.4,6.2,6.3,7.7,7.9,6.4,6.7,6,6.9],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"},"size":5.66929133858268},"line":{"color":"rgba(51,51,51,1)","width":1.88976377952756},"showlegend":false,"xaxis":"x3","yaxis":"y3","frame":null},{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"y":[3.9,3.5,3,3.4,3,3,3.7,3.4,3.1,3.9,3.4,2.9,3.7,3.5,3.2,3.1,3.3,3.8,3.1,3.5,3.4,3.4,3.4,3.4,3,3.2,4.1,3.8,3.4,3.6,4.2,3.2,3.5,3,3.1,3.7,3.8,3.4,3.3,3.2,2.3,3.2,3,2.8,3.2,2.2,2.7,3.3,3.1,2.9,2,2.4,3.2,2.9,3,2.9,2.8,3.1,2.9,3,2.5,3,2.6,2.8,2.8,2.7,2.4,2.6,2.9,3.4,2.4,2.7,2.6,2.3,2.7,2.5,3,3,2.8,2.5,2.9,3.3,3,3,2.7,2.5,3.6,2.5,3,2.8,3.2,2.9,2.2,3.2,3,2.5,2.8,3,2.8,2.8,2.7,2.6,3.8,2.8,3.3,3,2.8,2.5,3.2,3.1,2.8,3,3.2,3.1,3,3.4,3,3.1,3,2.7],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"},"size":5.66929133858268},"line":{"color":"rgba(51,51,51,1)","width":1.88976377952756},"showlegend":false,"xaxis":"x4","yaxis":"y4","frame":null},{"x":[1.17234439179301,0.75504164993763,1.25336394682527,0.85829839296639,0.843439545109868,1.16417063642293,1.03860618025064,1.09529844596982,1.19204796291888,1.29645551070571,0.970863662287593,1.23526261541992,1.17423941772431,0.830496316961944,1.1261561146006,1.17859104238451,0.694480241276324,1.37997190896422,1.32552620843053,0.923479898832738,0.747652031481266,0.659375908412039,1.06353094931692,1.08049895502627,0.653921052627265,1.17371248677373,1.18361307177693,0.778851526044309,0.742440065927804,0.709424780681729,0.977106651104987,1.2348955290392,0.624871839769185,1.02554601263255,0.848791439831257,1.1164921713993,1.21715517248958,1.01765852514654,1.25001414753497,0.888137626461685],"y":[1.4,1.4,1.5,1.7,1.4,1.5,1.4,1.5,1.5,1.6,1.4,1.1,1.3,1.4,1.7,1.7,1.5,1.7,1.9,1.6,1.6,1.5,1.4,1.6,1.6,1.5,1.5,1.4,1.5,1.2,1.4,1.3,1.5,1.3,1.6,1.9,1.6,1.4,1.5,1.4],"text":["Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.7<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.6<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.1<br />Species: setosa","Species: setosa<br />value: 1.3<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.7<br />Species: setosa","Species: setosa<br />value: 1.7<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.7<br />Species: setosa","Species: setosa<br />value: 1.9<br />Species: setosa","Species: setosa<br />value: 1.6<br />Species: setosa","Species: setosa<br />value: 1.6<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.6<br />Species: setosa","Species: setosa<br />value: 1.6<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.2<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.3<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.3<br />Species: setosa","Species: setosa<br />value: 1.6<br />Species: setosa","Species: setosa<br />value: 1.9<br />Species: setosa","Species: setosa<br />value: 1.6<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa","Species: setosa<br />value: 1.5<br />Species: setosa","Species: setosa<br />value: 1.4<br />Species: setosa"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"setosa","legendgroup":"setosa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.30383698288351,0.980494992434979,0.906809335760772,0.895090273581445,1.1995939116925,0.846520293876529,1.13237340468913,1.07486325874925,0.800969541072845,1.00013071671128,1.28535668607801,0.942564155347645,1.23361346293241,1.01588265784085,0.813967527449131,1.03109785616398,1.04250907953829,0.623358093574643,0.889369959756732,0.827693621255457,1.2366969557479,0.849541027657688,1.06619060114026,1.21152959372848,0.994529010914266,0.780238817632198,1.13361358959228,0.726942069269717,1.08308558166027,1.37282264921814,1.25743760168552,0.697818429395556,1.03589201737195,1.37454898282886,0.713800488598645,0.760700898431242,1.07925377134234,0.924452285468578,1.00036420598626,1.18813044596463],"y":[0.2,0.2,0.2,0.4,0.3,0.2,0.2,0.1,0.2,0.2,0.1,0.1,0.4,0.3,0.3,0.2,0.4,0.5,0.2,0.2,0.4,0.2,0.2,0.2,0.2,0.4,0.1,0.2,0.2,0.2,0.1,0.2,0.2,0.2,0.6,0.4,0.2,0.2,0.2,0.2],"text":["Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.4<br />Species: setosa","Species: setosa<br />value: 0.3<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.1<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.1<br />Species: setosa","Species: setosa<br />value: 0.1<br />Species: setosa","Species: setosa<br />value: 0.4<br />Species: setosa","Species: setosa<br />value: 0.3<br />Species: setosa","Species: setosa<br />value: 0.3<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.4<br />Species: setosa","Species: setosa<br />value: 0.5<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.4<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.4<br />Species: setosa","Species: setosa<br />value: 0.1<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.1<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.6<br />Species: setosa","Species: setosa<br />value: 0.4<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa","Species: setosa<br />value: 0.2<br />Species: setosa"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"setosa","legendgroup":"setosa","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[1.030771073699,0.741990589164197,0.679972867108881,1.36341826096177,1.18992371410131,0.658346454799175,1.21883625127375,0.748735700361431,1.01032353155315,0.654864784516394,0.803831942565739,0.744394173845649,1.27995016705245,1.0361621754244,0.804828126169741,0.939467047713697,0.755463909730315,1.06735183298588,1.03902483694255,1.22760831974447,0.910132740624249,1.33420644514263,0.743457815982401,0.867493655160069,0.789235887862742,1.34647377841175,0.897668731585145,1.01498286314309,0.730821475759149,1.31237766519189,0.627599544264376,0.939009504206479,0.916823641397059,0.820737056620419,1.38037825524807,1.02064466271549,0.624258105829358,0.61623722743243,0.834396759979427,0.679008452035487],"y":[5.1,4.9,4.6,5.4,4.6,5,4.4,4.9,5.4,4.8,4.8,4.3,5.4,5.1,5.7,5.4,5.1,5.1,4.8,5,5,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5,4.9,4.4,5.1,4.4,5,5.1,5.1,4.6,5.3,5],"text":["Species: setosa<br />value: 5.1<br />Species: setosa","Species: setosa<br />value: 4.9<br />Species: setosa","Species: setosa<br />value: 4.6<br />Species: setosa","Species: setosa<br />value: 5.4<br />Species: setosa","Species: setosa<br />value: 4.6<br />Species: setosa","Species: setosa<br />value: 5.0<br />Species: setosa","Species: setosa<br />value: 4.4<br />Species: setosa","Species: setosa<br />value: 4.9<br />Species: setosa","Species: setosa<br />value: 5.4<br />Species: setosa","Species: setosa<br />value: 4.8<br />Species: setosa","Species: setosa<br />value: 4.8<br />Species: setosa","Species: setosa<br />value: 4.3<br />Species: setosa","Species: setosa<br />value: 5.4<br />Species: setosa","Species: setosa<br />value: 5.1<br />Species: setosa","Species: setosa<br />value: 5.7<br />Species: setosa","Species: setosa<br />value: 5.4<br />Species: setosa","Species: setosa<br />value: 5.1<br />Species: setosa","Species: setosa<br />value: 5.1<br />Species: setosa","Species: setosa<br />value: 4.8<br />Species: setosa","Species: setosa<br />value: 5.0<br />Species: setosa","Species: setosa<br />value: 5.0<br />Species: setosa","Species: setosa<br />value: 5.2<br />Species: setosa","Species: setosa<br />value: 5.2<br />Species: setosa","Species: setosa<br />value: 4.7<br />Species: setosa","Species: setosa<br />value: 4.8<br />Species: setosa","Species: setosa<br />value: 5.4<br />Species: setosa","Species: setosa<br />value: 5.2<br />Species: setosa","Species: setosa<br />value: 5.5<br />Species: setosa","Species: setosa<br />value: 4.9<br />Species: setosa","Species: setosa<br />value: 5.0<br />Species: setosa","Species: setosa<br />value: 4.9<br />Species: setosa","Species: setosa<br />value: 4.4<br />Species: setosa","Species: setosa<br />value: 5.1<br />Species: setosa","Species: setosa<br />value: 4.4<br />Species: setosa","Species: setosa<br />value: 5.0<br />Species: setosa","Species: setosa<br />value: 5.1<br />Species: setosa","Species: setosa<br />value: 5.1<br />Species: setosa","Species: setosa<br />value: 4.6<br />Species: setosa","Species: setosa<br />value: 5.3<br />Species: setosa","Species: setosa<br />value: 5.0<br />Species: setosa"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"setosa","legendgroup":"setosa","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[0.824810195341706,1.29774249214679,1.01462870873511,1.32873290479183,0.713885360211134,0.917561719939113,0.770648723095655,0.744259871542454,1.18739469666034,1.27222661506385,1.12438495438546,1.31504218690097,0.711745088361204,0.860641565360129,0.882403837703168,0.860769154503942,1.14357072170824,1.25198545511812,0.973706879839301,1.39017230309546,1.35268262811005,1.07778491899371,1.09702748488635,0.907397147640586,0.864273747801781,1.16258410513401,0.703809648379683,1.30590473916382,0.949176893383264,0.994464328512549,1.28624583892524,0.976286644861102,1.03003440815955,0.823366472125053,0.977349527552724,1.2106248633936,0.837781269103289,0.89734344240278,0.792614057101309,1.33596092760563],"y":[3.5,3,3.1,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3,3,3.9,3.5,3.8,3.4,3.7,3.3,3.4,3,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.6,3,3.4,3.2,3.5,3.8,3.8,3.2,3.7,3.3],"text":["Species: setosa<br />value: 3.5<br />Species: setosa","Species: setosa<br />value: 3.0<br />Species: setosa","Species: setosa<br />value: 3.1<br />Species: setosa","Species: setosa<br />value: 3.9<br />Species: setosa","Species: setosa<br />value: 3.4<br />Species: setosa","Species: setosa<br />value: 3.4<br />Species: setosa","Species: setosa<br />value: 2.9<br />Species: setosa","Species: setosa<br />value: 3.1<br />Species: setosa","Species: setosa<br />value: 3.7<br />Species: setosa","Species: setosa<br />value: 3.4<br />Species: setosa","Species: setosa<br />value: 3.0<br />Species: setosa","Species: setosa<br />value: 3.0<br />Species: setosa","Species: setosa<br />value: 3.9<br />Species: setosa","Species: setosa<br />value: 3.5<br />Species: setosa","Species: setosa<br />value: 3.8<br />Species: setosa","Species: setosa<br />value: 3.4<br />Species: setosa","Species: setosa<br />value: 3.7<br />Species: setosa","Species: setosa<br />value: 3.3<br />Species: setosa","Species: setosa<br />value: 3.4<br />Species: setosa","Species: setosa<br />value: 3.0<br />Species: setosa","Species: setosa<br />value: 3.4<br />Species: setosa","Species: setosa<br />value: 3.5<br />Species: setosa","Species: setosa<br />value: 3.4<br />Species: setosa","Species: setosa<br />value: 3.2<br />Species: setosa","Species: setosa<br />value: 3.1<br />Species: setosa","Species: setosa<br />value: 3.4<br />Species: setosa","Species: setosa<br />value: 4.1<br />Species: setosa","Species: setosa<br />value: 4.2<br />Species: setosa","Species: setosa<br />value: 3.1<br />Species: setosa","Species: setosa<br />value: 3.2<br />Species: setosa","Species: setosa<br />value: 3.6<br />Species: setosa","Species: setosa<br />value: 3.0<br />Species: setosa","Species: setosa<br />value: 3.4<br />Species: setosa","Species: setosa<br />value: 3.2<br />Species: setosa","Species: setosa<br />value: 3.5<br />Species: setosa","Species: setosa<br />value: 3.8<br />Species: setosa","Species: setosa<br />value: 3.8<br />Species: setosa","Species: setosa<br />value: 3.2<br />Species: setosa","Species: setosa<br />value: 3.7<br />Species: setosa","Species: setosa<br />value: 3.3<br />Species: setosa"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"setosa","legendgroup":"setosa","showlegend":false,"xaxis":"x4","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[2.20043572168797,1.74740954805166,2.03698893431574,2.20092536732554,2.28548554591835,2.22461630105972,2.09079854600132,1.63400512523949,1.71139484215528,1.64023585990071,2.11715296190232,2.14160663727671,1.69474061895162,1.82822247184813,2.05661383215338,2.10443181954324,1.98446539007127,1.86605690214783,2.32694258447737,1.81934318207204,1.81705566607416,2.05806356333196,2.25679511670023,2.31785909160972,2.35867774225771,1.64190872404724,1.60705029610544,2.25628143269569,2.20103877671063,2.22379240449518,1.66233810670674,2.06114227604121,1.86209118366241,1.79157723523676,1.81895962394774,1.78532683271915,2.38285723496228,1.69157380871475,2.03498291801661,2.1066806036979],"y":[4.7,4.5,4.9,4,4.6,4.7,3.3,4.6,3.9,3.5,4.2,4,4.7,3.6,4.4,4.5,4.8,4,4.9,4.7,4.3,4.4,4.8,5,4.5,3.5,3.8,3.7,3.9,5.1,4.5,4.4,4.1,4,4.4,4.6,4,4.2,3,4.1],"text":["Species: versicolor<br />value: 4.7<br />Species: versicolor","Species: versicolor<br />value: 4.5<br />Species: versicolor","Species: versicolor<br />value: 4.9<br />Species: versicolor","Species: versicolor<br />value: 4.0<br />Species: versicolor","Species: versicolor<br />value: 4.6<br />Species: versicolor","Species: versicolor<br />value: 4.7<br />Species: versicolor","Species: versicolor<br />value: 3.3<br />Species: versicolor","Species: versicolor<br />value: 4.6<br />Species: versicolor","Species: versicolor<br />value: 3.9<br />Species: versicolor","Species: versicolor<br />value: 3.5<br />Species: versicolor","Species: versicolor<br />value: 4.2<br />Species: versicolor","Species: versicolor<br />value: 4.0<br />Species: versicolor","Species: versicolor<br />value: 4.7<br />Species: versicolor","Species: versicolor<br />value: 3.6<br />Species: versicolor","Species: versicolor<br />value: 4.4<br />Species: versicolor","Species: versicolor<br />value: 4.5<br />Species: versicolor","Species: versicolor<br />value: 4.8<br />Species: versicolor","Species: versicolor<br />value: 4.0<br />Species: versicolor","Species: versicolor<br />value: 4.9<br />Species: versicolor","Species: versicolor<br />value: 4.7<br />Species: versicolor","Species: versicolor<br />value: 4.3<br />Species: versicolor","Species: versicolor<br />value: 4.4<br />Species: versicolor","Species: versicolor<br />value: 4.8<br />Species: versicolor","Species: versicolor<br />value: 5.0<br />Species: versicolor","Species: versicolor<br />value: 4.5<br />Species: versicolor","Species: versicolor<br />value: 3.5<br />Species: versicolor","Species: versicolor<br />value: 3.8<br />Species: versicolor","Species: versicolor<br />value: 3.7<br />Species: versicolor","Species: versicolor<br />value: 3.9<br />Species: versicolor","Species: versicolor<br />value: 5.1<br />Species: versicolor","Species: versicolor<br />value: 4.5<br />Species: versicolor","Species: versicolor<br />value: 4.4<br />Species: versicolor","Species: versicolor<br />value: 4.1<br />Species: versicolor","Species: versicolor<br />value: 4.0<br />Species: versicolor","Species: versicolor<br />value: 4.4<br />Species: versicolor","Species: versicolor<br />value: 4.6<br />Species: versicolor","Species: versicolor<br />value: 4.0<br />Species: versicolor","Species: versicolor<br />value: 4.2<br />Species: versicolor","Species: versicolor<br />value: 3.0<br />Species: versicolor","Species: versicolor<br />value: 4.1<br />Species: versicolor"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"versicolor","legendgroup":"versicolor","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.2244311939925,2.21075569372624,1.81205570418388,2.34229830652475,1.74513677675277,1.65916670504957,1.60584747008979,2.27873218916357,1.69343713335693,1.82030953019857,2.21162219140679,1.79154556021094,1.67777504064143,1.71420472338796,1.76227537449449,1.9609545391053,2.17415487859398,1.87854828927666,1.67243612129241,2.31038606651127,2.13243070729077,2.24281962439418,2.17337563578039,2.18287898581475,1.81282714866102,1.68023335579783,1.89187323972583,2.26798380631953,1.92918493822217,1.78436504211277,1.89880628585815,2.37245826683939,1.86497905813158,1.63584309108555,1.76248710993677,2.33991730511188,2.11829325184226,1.80139718409628,1.86501417104155,2.36184078752995],"y":[1.4,1.5,1.5,1.3,1.5,1.6,1,1.3,1.4,1,1.5,1,1.4,1.3,1.4,1.5,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1,1.1,1,1.2,1.6,1.6,1.3,1.3,1.3,1.2,1.4,1.2,1.3,1.1,1.3],"text":["Species: versicolor<br />value: 1.4<br />Species: versicolor","Species: versicolor<br />value: 1.5<br />Species: versicolor","Species: versicolor<br />value: 1.5<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor","Species: versicolor<br />value: 1.5<br />Species: versicolor","Species: versicolor<br />value: 1.6<br />Species: versicolor","Species: versicolor<br />value: 1.0<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor","Species: versicolor<br />value: 1.4<br />Species: versicolor","Species: versicolor<br />value: 1.0<br />Species: versicolor","Species: versicolor<br />value: 1.5<br />Species: versicolor","Species: versicolor<br />value: 1.0<br />Species: versicolor","Species: versicolor<br />value: 1.4<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor","Species: versicolor<br />value: 1.4<br />Species: versicolor","Species: versicolor<br />value: 1.5<br />Species: versicolor","Species: versicolor<br />value: 1.8<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor","Species: versicolor<br />value: 1.5<br />Species: versicolor","Species: versicolor<br />value: 1.2<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor","Species: versicolor<br />value: 1.4<br />Species: versicolor","Species: versicolor<br />value: 1.4<br />Species: versicolor","Species: versicolor<br />value: 1.7<br />Species: versicolor","Species: versicolor<br />value: 1.5<br />Species: versicolor","Species: versicolor<br />value: 1.0<br />Species: versicolor","Species: versicolor<br />value: 1.1<br />Species: versicolor","Species: versicolor<br />value: 1.0<br />Species: versicolor","Species: versicolor<br />value: 1.2<br />Species: versicolor","Species: versicolor<br />value: 1.6<br />Species: versicolor","Species: versicolor<br />value: 1.6<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor","Species: versicolor<br />value: 1.2<br />Species: versicolor","Species: versicolor<br />value: 1.4<br />Species: versicolor","Species: versicolor<br />value: 1.2<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor","Species: versicolor<br />value: 1.1<br />Species: versicolor","Species: versicolor<br />value: 1.3<br />Species: versicolor"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"versicolor","legendgroup":"versicolor","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[2.03014445807785,1.856909494102,2.26192297060043,2.25007639862597,1.96988236587495,1.80955744516104,2.05344795286655,2.17799647375941,2.06932858340442,2.28695778772235,2.26236880663782,1.63628689497709,1.70729189962149,2.16002547740936,2.35720515400171,1.83849547877908,2.25590045638382,1.69476294144988,1.95254183802754,1.98232652042061,1.79843593779951,2.08059007208794,1.60060018897057,2.07193649299443,1.99369351323694,1.65682156775147,1.80580775346607,2.21575104780495,1.6425374282524,2.11918562203646,2.02086901348084,2.02914631422609,2.17743195574731,1.96061901375651,2.34914441611618,2.34686860218644,2.04052741974592,2.36146888639778,1.74655444081873,2.34678833242506],"y":[7,6.4,6.9,5.5,6.5,6.3,4.9,6.6,5.2,5,5.9,6,6.1,5.6,6.7,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6,5.7,5.5,5.5,5.8,6,6,6.3,5.6,5.5,5.5,6.1,5.8,5.6,5.1,5.7],"text":["Species: versicolor<br />value: 7.0<br />Species: versicolor","Species: versicolor<br />value: 6.4<br />Species: versicolor","Species: versicolor<br />value: 6.9<br />Species: versicolor","Species: versicolor<br />value: 5.5<br />Species: versicolor","Species: versicolor<br />value: 6.5<br />Species: versicolor","Species: versicolor<br />value: 6.3<br />Species: versicolor","Species: versicolor<br />value: 4.9<br />Species: versicolor","Species: versicolor<br />value: 6.6<br />Species: versicolor","Species: versicolor<br />value: 5.2<br />Species: versicolor","Species: versicolor<br />value: 5.0<br />Species: versicolor","Species: versicolor<br />value: 5.9<br />Species: versicolor","Species: versicolor<br />value: 6.0<br />Species: versicolor","Species: versicolor<br />value: 6.1<br />Species: versicolor","Species: versicolor<br />value: 5.6<br />Species: versicolor","Species: versicolor<br />value: 6.7<br />Species: versicolor","Species: versicolor<br />value: 5.6<br />Species: versicolor","Species: versicolor<br />value: 5.9<br />Species: versicolor","Species: versicolor<br />value: 6.1<br />Species: versicolor","Species: versicolor<br />value: 6.3<br />Species: versicolor","Species: versicolor<br />value: 6.1<br />Species: versicolor","Species: versicolor<br />value: 6.4<br />Species: versicolor","Species: versicolor<br />value: 6.6<br />Species: versicolor","Species: versicolor<br />value: 6.8<br />Species: versicolor","Species: versicolor<br />value: 6.7<br />Species: versicolor","Species: versicolor<br />value: 6.0<br />Species: versicolor","Species: versicolor<br />value: 5.7<br />Species: versicolor","Species: versicolor<br />value: 5.5<br />Species: versicolor","Species: versicolor<br />value: 5.5<br />Species: versicolor","Species: versicolor<br />value: 5.8<br />Species: versicolor","Species: versicolor<br />value: 6.0<br />Species: versicolor","Species: versicolor<br />value: 6.0<br />Species: versicolor","Species: versicolor<br />value: 6.3<br />Species: versicolor","Species: versicolor<br />value: 5.6<br />Species: versicolor","Species: versicolor<br />value: 5.5<br />Species: versicolor","Species: versicolor<br />value: 5.5<br />Species: versicolor","Species: versicolor<br />value: 6.1<br />Species: versicolor","Species: versicolor<br />value: 5.8<br />Species: versicolor","Species: versicolor<br />value: 5.6<br />Species: versicolor","Species: versicolor<br />value: 5.1<br />Species: versicolor","Species: versicolor<br />value: 5.7<br />Species: versicolor"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"versicolor","legendgroup":"versicolor","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1.90127690155059,1.96278557032347,1.83973221909255,1.95947688613087,1.66229535546154,1.78839075770229,2.04906942173839,1.66623003557324,1.98759612608701,2.14780648928136,2.28549583852291,1.90214602723718,1.94438482038677,2.19671986848116,1.89680560305715,1.66877720877528,1.95723533835262,1.96897405013442,2.33865807075053,1.845124736242,2.30188475530595,1.89646327178925,1.82462661676109,1.85173010248691,2.19098910000175,2.39928138945252,1.97792703695595,1.90936855748296,2.20217251740396,1.8625947419554,2.37912305463105,1.65658420175314,2.10758554358035,1.81936160176992,2.16854199692607,1.97872499264777,2.26796393301338,1.88208890296519,2.087563261576,1.78001134842634],"y":[3.2,3.2,3.1,2.3,2.8,3.3,2.4,2.9,2.7,2,3,2.2,2.9,2.9,3.1,3,3.2,2.8,2.5,2.8,2.9,3,2.8,3,2.9,2.6,2.4,2.4,2.7,2.7,3.4,2.3,3,2.5,2.6,3,2.6,2.7,2.5,2.8],"text":["Species: versicolor<br />value: 3.2<br />Species: versicolor","Species: versicolor<br />value: 3.2<br />Species: versicolor","Species: versicolor<br />value: 3.1<br />Species: versicolor","Species: versicolor<br />value: 2.3<br />Species: versicolor","Species: versicolor<br />value: 2.8<br />Species: versicolor","Species: versicolor<br />value: 3.3<br />Species: versicolor","Species: versicolor<br />value: 2.4<br />Species: versicolor","Species: versicolor<br />value: 2.9<br />Species: versicolor","Species: versicolor<br />value: 2.7<br />Species: versicolor","Species: versicolor<br />value: 2.0<br />Species: versicolor","Species: versicolor<br />value: 3.0<br />Species: versicolor","Species: versicolor<br />value: 2.2<br />Species: versicolor","Species: versicolor<br />value: 2.9<br />Species: versicolor","Species: versicolor<br />value: 2.9<br />Species: versicolor","Species: versicolor<br />value: 3.1<br />Species: versicolor","Species: versicolor<br />value: 3.0<br />Species: versicolor","Species: versicolor<br />value: 3.2<br />Species: versicolor","Species: versicolor<br />value: 2.8<br />Species: versicolor","Species: versicolor<br />value: 2.5<br />Species: versicolor","Species: versicolor<br />value: 2.8<br />Species: versicolor","Species: versicolor<br />value: 2.9<br />Species: versicolor","Species: versicolor<br />value: 3.0<br />Species: versicolor","Species: versicolor<br />value: 2.8<br />Species: versicolor","Species: versicolor<br />value: 3.0<br />Species: versicolor","Species: versicolor<br />value: 2.9<br />Species: versicolor","Species: versicolor<br />value: 2.6<br />Species: versicolor","Species: versicolor<br />value: 2.4<br />Species: versicolor","Species: versicolor<br />value: 2.4<br />Species: versicolor","Species: versicolor<br />value: 2.7<br />Species: versicolor","Species: versicolor<br />value: 2.7<br />Species: versicolor","Species: versicolor<br />value: 3.4<br />Species: versicolor","Species: versicolor<br />value: 2.3<br />Species: versicolor","Species: versicolor<br />value: 3.0<br />Species: versicolor","Species: versicolor<br />value: 2.5<br />Species: versicolor","Species: versicolor<br />value: 2.6<br />Species: versicolor","Species: versicolor<br />value: 3.0<br />Species: versicolor","Species: versicolor<br />value: 2.6<br />Species: versicolor","Species: versicolor<br />value: 2.7<br />Species: versicolor","Species: versicolor<br />value: 2.5<br />Species: versicolor","Species: versicolor<br />value: 2.8<br />Species: versicolor"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"versicolor","legendgroup":"versicolor","showlegend":false,"xaxis":"x4","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[3.31722248960286,3.11473116446286,2.92185194715857,2.81738913599402,2.75763422045857,3.35194105077535,2.76180776245892,2.80349371992052,3.33607333581895,2.80190098695457,2.65126886926591,3.14316071737558,3.043994711712,2.81839219275862,3.19364188946784,3.34817781317979,2.88626263923943,3.27498777601868,2.86943814307451,2.64364566188306,2.79310025889426,3.25542512908578,2.61906305197626,2.60589692890644,3.37868341878057,3.2727603809908,2.64227990172803,3.20928229857236,3.0216791395098,2.84651213623583,3.19439644776285,2.66559322942048,3.05060378573835,3.09064346551895,2.67834811732173,2.71981118619442,3.22676951624453,3.11891227737069,2.73010446727276,2.82751592956483],"y":[6,5.1,5.9,5.6,6.6,4.5,6.3,5.8,6.1,5.1,5.5,5,5.1,5.3,5.5,6.9,5,6.7,4.9,5.7,6,4.8,5.6,5.8,6.1,6.4,5.6,5.1,6.1,4.8,5.4,5.6,5.1,5.1,5.9,5.2,5,5.2,5.4,5.1],"text":["Species: virginica<br />value: 6.0<br />Species: virginica","Species: virginica<br />value: 5.1<br />Species: virginica","Species: virginica<br />value: 5.9<br />Species: virginica","Species: virginica<br />value: 5.6<br />Species: virginica","Species: virginica<br />value: 6.6<br />Species: virginica","Species: virginica<br />value: 4.5<br />Species: virginica","Species: virginica<br />value: 6.3<br />Species: virginica","Species: virginica<br />value: 5.8<br />Species: virginica","Species: virginica<br />value: 6.1<br />Species: virginica","Species: virginica<br />value: 5.1<br />Species: virginica","Species: virginica<br />value: 5.5<br />Species: virginica","Species: virginica<br />value: 5.0<br />Species: virginica","Species: virginica<br />value: 5.1<br />Species: virginica","Species: virginica<br />value: 5.3<br />Species: virginica","Species: virginica<br />value: 5.5<br />Species: virginica","Species: virginica<br />value: 6.9<br />Species: virginica","Species: virginica<br />value: 5.0<br />Species: virginica","Species: virginica<br />value: 6.7<br />Species: virginica","Species: virginica<br />value: 4.9<br />Species: virginica","Species: virginica<br />value: 5.7<br />Species: virginica","Species: virginica<br />value: 6.0<br />Species: virginica","Species: virginica<br />value: 4.8<br />Species: virginica","Species: virginica<br />value: 5.6<br />Species: virginica","Species: virginica<br />value: 5.8<br />Species: virginica","Species: virginica<br />value: 6.1<br />Species: virginica","Species: virginica<br />value: 6.4<br />Species: virginica","Species: virginica<br />value: 5.6<br />Species: virginica","Species: virginica<br />value: 5.1<br />Species: virginica","Species: virginica<br />value: 6.1<br />Species: virginica","Species: virginica<br />value: 4.8<br />Species: virginica","Species: virginica<br />value: 5.4<br />Species: virginica","Species: virginica<br />value: 5.6<br />Species: virginica","Species: virginica<br />value: 5.1<br />Species: virginica","Species: virginica<br />value: 5.1<br />Species: virginica","Species: virginica<br />value: 5.9<br />Species: virginica","Species: virginica<br />value: 5.2<br />Species: virginica","Species: virginica<br />value: 5.0<br />Species: virginica","Species: virginica<br />value: 5.2<br />Species: virginica","Species: virginica<br />value: 5.4<br />Species: virginica","Species: virginica<br />value: 5.1<br />Species: virginica"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"virginica","legendgroup":"virginica","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.03348003420979,3.15934464894235,3.23672221265733,3.12810036614537,2.75384612046182,3.35054372921586,2.79506187848747,2.85076854750514,3.31166381277144,3.07165135573596,2.7460395378992,3.11923193689436,3.30760840792209,3.15235883500427,2.68210371602327,2.88743400033563,2.94960873443633,3.19286151602864,2.72315788939595,2.97250392138958,3.21430342793465,2.72231325488538,2.98656719643623,2.63754455447197,3.30683341287076,2.86031603291631,3.19760118741542,3.22957948166877,2.98177331052721,3.36837748996913,2.91482829526067,2.75441897194833,3.16257845405489,3.24824411123991,2.80203256104141,2.88353864718229,3.35428014732897,3.07870835773647,3.04080777782947,3.03021495752037],"y":[2.5,1.9,2.1,1.8,2.1,1.7,1.8,1.8,2.5,2,2.1,2,2.4,2.3,1.8,2.3,1.5,2,1.8,2.1,1.8,1.8,2.1,1.6,1.9,2,2.2,1.5,2.3,1.8,2.1,2.4,2.3,1.9,2.3,2.3,1.9,2,2.3,1.8],"text":["Species: virginica<br />value: 2.5<br />Species: virginica","Species: virginica<br />value: 1.9<br />Species: virginica","Species: virginica<br />value: 2.1<br />Species: virginica","Species: virginica<br />value: 1.8<br />Species: virginica","Species: virginica<br />value: 2.1<br />Species: virginica","Species: virginica<br />value: 1.7<br />Species: virginica","Species: virginica<br />value: 1.8<br />Species: virginica","Species: virginica<br />value: 1.8<br />Species: virginica","Species: virginica<br />value: 2.5<br />Species: virginica","Species: virginica<br />value: 2.0<br />Species: virginica","Species: virginica<br />value: 2.1<br />Species: virginica","Species: virginica<br />value: 2.0<br />Species: virginica","Species: virginica<br />value: 2.4<br />Species: virginica","Species: virginica<br />value: 2.3<br />Species: virginica","Species: virginica<br />value: 1.8<br />Species: virginica","Species: virginica<br />value: 2.3<br />Species: virginica","Species: virginica<br />value: 1.5<br />Species: virginica","Species: virginica<br />value: 2.0<br />Species: virginica","Species: virginica<br />value: 1.8<br />Species: virginica","Species: virginica<br />value: 2.1<br />Species: virginica","Species: virginica<br />value: 1.8<br />Species: virginica","Species: virginica<br />value: 1.8<br />Species: virginica","Species: virginica<br />value: 2.1<br />Species: virginica","Species: virginica<br />value: 1.6<br />Species: virginica","Species: virginica<br />value: 1.9<br />Species: virginica","Species: virginica<br />value: 2.0<br />Species: virginica","Species: virginica<br />value: 2.2<br />Species: virginica","Species: virginica<br />value: 1.5<br />Species: virginica","Species: virginica<br />value: 2.3<br />Species: virginica","Species: virginica<br />value: 1.8<br />Species: virginica","Species: virginica<br />value: 2.1<br />Species: virginica","Species: virginica<br />value: 2.4<br />Species: virginica","Species: virginica<br />value: 2.3<br />Species: virginica","Species: virginica<br />value: 1.9<br />Species: virginica","Species: virginica<br />value: 2.3<br />Species: virginica","Species: virginica<br />value: 2.3<br />Species: virginica","Species: virginica<br />value: 1.9<br />Species: virginica","Species: virginica<br />value: 2.0<br />Species: virginica","Species: virginica<br />value: 2.3<br />Species: virginica","Species: virginica<br />value: 1.8<br />Species: virginica"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"virginica","legendgroup":"virginica","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[3.3936132421717,3.29966931063682,3.13237176146358,2.69347087647766,3.25380057953298,3.00038548652083,3.36284681912512,3.19902135785669,3.39784688279033,2.92126115690917,2.69321655258536,3.16784859094769,2.95838463325053,2.97254306860268,3.29127900637686,2.98301199022681,2.77164913695306,2.84882024787366,2.81808233261108,2.88496043235064,2.91415759753436,2.96279868893325,2.7066363144666,3.04451691396534,2.64151441305876,3.03796961884946,3.25307792555541,3.18441082071513,3.33440512586385,2.61086034066975,2.82501936778426,3.02438777778298,3.32834299895912,2.96324056461453,2.91544598378241,3.34987818915397,2.8758011855185,3.38915756326169,3.21334787178785,3.247708696872],"y":[6.3,5.8,7.1,6.3,7.6,4.9,7.3,6.7,7.2,6.5,6.8,5.7,5.8,6.4,6.5,7.7,6,7.7,6.3,6.7,7.2,6.2,6.4,7.2,7.4,7.9,6.4,6.3,7.7,6,6.9,6.7,6.9,5.8,6.8,6.7,6.3,6.5,6.2,5.9],"text":["Species: virginica<br />value: 6.3<br />Species: virginica","Species: virginica<br />value: 5.8<br />Species: virginica","Species: virginica<br />value: 7.1<br />Species: virginica","Species: virginica<br />value: 6.3<br />Species: virginica","Species: virginica<br />value: 7.6<br />Species: virginica","Species: virginica<br />value: 4.9<br />Species: virginica","Species: virginica<br />value: 7.3<br />Species: virginica","Species: virginica<br />value: 6.7<br />Species: virginica","Species: virginica<br />value: 7.2<br />Species: virginica","Species: virginica<br />value: 6.5<br />Species: virginica","Species: virginica<br />value: 6.8<br />Species: virginica","Species: virginica<br />value: 5.7<br />Species: virginica","Species: virginica<br />value: 5.8<br />Species: virginica","Species: virginica<br />value: 6.4<br />Species: virginica","Species: virginica<br />value: 6.5<br />Species: virginica","Species: virginica<br />value: 7.7<br />Species: virginica","Species: virginica<br />value: 6.0<br />Species: virginica","Species: virginica<br />value: 7.7<br />Species: virginica","Species: virginica<br />value: 6.3<br />Species: virginica","Species: virginica<br />value: 6.7<br />Species: virginica","Species: virginica<br />value: 7.2<br />Species: virginica","Species: virginica<br />value: 6.2<br />Species: virginica","Species: virginica<br />value: 6.4<br />Species: virginica","Species: virginica<br />value: 7.2<br />Species: virginica","Species: virginica<br />value: 7.4<br />Species: virginica","Species: virginica<br />value: 7.9<br />Species: virginica","Species: virginica<br />value: 6.4<br />Species: virginica","Species: virginica<br />value: 6.3<br />Species: virginica","Species: virginica<br />value: 7.7<br />Species: virginica","Species: virginica<br />value: 6.0<br />Species: virginica","Species: virginica<br />value: 6.9<br />Species: virginica","Species: virginica<br />value: 6.7<br />Species: virginica","Species: virginica<br />value: 6.9<br />Species: virginica","Species: virginica<br />value: 5.8<br />Species: virginica","Species: virginica<br />value: 6.8<br />Species: virginica","Species: virginica<br />value: 6.7<br />Species: virginica","Species: virginica<br />value: 6.3<br />Species: virginica","Species: virginica<br />value: 6.5<br />Species: virginica","Species: virginica<br />value: 6.2<br />Species: virginica","Species: virginica<br />value: 5.9<br />Species: virginica"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"virginica","legendgroup":"virginica","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[3.20404504593462,2.95622216649353,3.21665298007429,3.26706138271838,3.07723478674889,2.61038822587579,3.20534264929593,2.92108748052269,2.63291302509606,3.00549732912332,3.03857543058693,3.13538043238223,3.13323743678629,2.86905113048851,2.66547756753862,2.85499342307448,2.95953051634133,3.02449496760964,2.7444728128612,2.89477229043841,3.20109093245119,2.90442930143327,3.251434805803,3.07550936285406,2.93236084450036,2.69721218645573,3.08302022535354,3.02345441691577,2.98124170880765,2.68783777989447,3.38211924806237,2.63619056399912,2.90961830001324,3.1326610442251,3.19579227212816,3.28398710470647,3.00308118965477,2.98505697436631,3.30590468607843,2.78576864581555],"y":[3.3,2.7,3,2.9,3,2.5,2.9,2.5,3.6,3.2,3,2.5,2.8,3.2,3,2.6,2.2,2.8,2.7,3.3,3.2,2.8,2.8,3,2.8,3.8,2.8,2.8,3,3,3.1,3.1,3.1,2.7,3.2,3,2.5,3,3.4,3],"text":["Species: virginica<br />value: 3.3<br />Species: virginica","Species: virginica<br />value: 2.7<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica","Species: virginica<br />value: 2.9<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica","Species: virginica<br />value: 2.5<br />Species: virginica","Species: virginica<br />value: 2.9<br />Species: virginica","Species: virginica<br />value: 2.5<br />Species: virginica","Species: virginica<br />value: 3.6<br />Species: virginica","Species: virginica<br />value: 3.2<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica","Species: virginica<br />value: 2.5<br />Species: virginica","Species: virginica<br />value: 2.8<br />Species: virginica","Species: virginica<br />value: 3.2<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica","Species: virginica<br />value: 2.6<br />Species: virginica","Species: virginica<br />value: 2.2<br />Species: virginica","Species: virginica<br />value: 2.8<br />Species: virginica","Species: virginica<br />value: 2.7<br />Species: virginica","Species: virginica<br />value: 3.3<br />Species: virginica","Species: virginica<br />value: 3.2<br />Species: virginica","Species: virginica<br />value: 2.8<br />Species: virginica","Species: virginica<br />value: 2.8<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica","Species: virginica<br />value: 2.8<br />Species: virginica","Species: virginica<br />value: 3.8<br />Species: virginica","Species: virginica<br />value: 2.8<br />Species: virginica","Species: virginica<br />value: 2.8<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica","Species: virginica<br />value: 3.1<br />Species: virginica","Species: virginica<br />value: 3.1<br />Species: virginica","Species: virginica<br />value: 3.1<br />Species: virginica","Species: virginica<br />value: 2.7<br />Species: virginica","Species: virginica<br />value: 3.2<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica","Species: virginica<br />value: 2.5<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica","Species: virginica<br />value: 3.4<br />Species: virginica","Species: virginica<br />value: 3.0<br />Species: virginica"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":0.7,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"virginica","legendgroup":"virginica","showlegend":false,"xaxis":"x4","yaxis":"y4","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":7.30593607305936,"b":40.1826484018265,"l":31.4155251141553},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,0.462047085334757],"automargin":true,"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["setosa","versicolor","virginica"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["setosa","versicolor","virginica"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Species","x":0.5,"y":-0.0471841704718417,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis"},{"text":"value","x":-0.0250054359643401,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis"},{"text":"Petal.Length","x":0.231023542667378,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Petal.Width","x":0.768976457332622,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Sepal.Length","x":0.231023542667378,"y":0.434689359346894,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Sepal.Width","x":0.768976457332622,"y":0.434689359346894,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Species","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"yaxis":{"domain":[0.565310640653106,1],"automargin":true,"type":"linear","autorange":false,"range":[0.81,7.19],"tickmode":"array","ticktext":["2","4","6"],"tickvals":[2,4,6],"categoryorder":"array","categoryarray":["2","4","6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.462047085334757,"y0":0.565310640653106,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.462047085334757,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.537952914665243,"x1":1,"y0":0.565310640653106,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.537952914665243,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.462047085334757,"y0":0,"y1":0.434689359346894},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.462047085334757,"y0":0,"y1":23.37899543379,"yanchor":0.434689359346894,"ysizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.537952914665243,"x1":1,"y0":0,"y1":0.434689359346894},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.537952914665243,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":0.434689359346894,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["setosa","versicolor","virginica"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["setosa","versicolor","virginica"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.537952914665243,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y2","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[-0.02,2.62],"tickmode":"array","ticktext":["0.0","0.5","1.0","1.5","2.0","2.5"],"tickvals":[0,0.5,1,1.5,2,2.5],"categoryorder":"array","categoryarray":["0.0","0.5","1.0","1.5","2.0","2.5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.565310640653106,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["setosa","versicolor","virginica"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["setosa","versicolor","virginica"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.462047085334757],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[4.12,8.08],"tickmode":"array","ticktext":["5","6","7","8"],"tickvals":[5,6,7,8],"categoryorder":"array","categoryarray":["5","6","7","8"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.434689359346894],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x3","title":"","hoverformat":".2f"},"xaxis4":{"type":"linear","autorange":false,"range":[0.4,3.6],"tickmode":"array","ticktext":["setosa","versicolor","virginica"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["setosa","versicolor","virginica"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.537952914665243,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y4","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[1.89,4.31],"tickmode":"array","ticktext":["2.0","2.5","3.0","3.5","4.0"],"tickvals":[2,2.5,3,3.5,4],"categoryorder":"array","categoryarray":["2.0","2.5","3.0","3.5","4.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.434689359346894],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x4","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.913385826771654},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"663e5617d2c5":{"x":{},"y":{},"type":"box"},"663e360eafab":{"x":{},"y":{},"colour":{}}},"cur_data":"663e5617d2c5","visdat":{"663e5617d2c5":["function (y) ","x"],"663e360eafab":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>I definitely still like my version of this plot better, but the <code>featurePlot</code> versions each took me a single line of code, while my version above took some data pivoting followed by another 7 lines of plotting code so <code>featurePlot</code> is definitely quicker and easier to execute.</p>
<p>The next option “density” plots the distribution of each feature by classification of the dependent variable. It’s pretty similar to the plots above except we’re looking at pdf.</p>
<pre class="r"><code>featurePlot(x, y, &quot;density&quot;, scale = &quot;free&quot;)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>The next two options, “pairs” and “ellipse”, display bivariate relationships between each possible pair of features and colors the points by the class of the dependent variable. These plots give you an indication on collinearity between features and also let you investigate whether the dependent variable is linearly separable by any combination of two features.</p>
<pre class="r"><code>featurePlot(x, y, &quot;pairs&quot;)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>“ellipse” takes this a step further by drawing ellipses around each class. I quite like this plot, it does a lot of investigative work for a single line of code.</p>
<pre class="r"><code>featurePlot(x, y, &quot;ellipse&quot;)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>The bivariate plots are pretty similar to another function I use quite often, <a href="https://www.rdocumentation.org/packages/GGally/versions/1.5.0/topics/ggpairs"><code>ggpairs</code></a> from <a href="https://github.com/ggobi/ggally"><code>GGally</code></a>.</p>
<pre class="r"><code>library(GGally)
ggpairs(irisDF_train, columns = 1:4)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p><code>ggpairs</code> is just as easy to implement and it goes quite a bit further by adding the distribution plots, correlation coefficients of each bivariate relationship, and even significance tests of the relationships, represented by asterisks on the correlation coefficients. It’s also possible to investigate the relationships within each class of the dependent variable by adding a color mapping, as below.</p>
<pre class="r"><code>library(GGally)
ggpairs(irisDF_train, aes(color = Species), columns = 1:4)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>This gives you quite a bit of information about the features and their relationships in a dense but simple format, which is just as easy to implement and for this reason I prefer <code>ggpairs</code>.</p>
</div>
<div id="model-training" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Model Training</h1>
<p>There are <a href="https://topepo.github.io/caret/available-models.html">238 total models</a> available in the <code>caret</code> package and the package makes it very easy to train many different models on your data and compare. I’ve picked the 5 following models because they’re frequently used and they range in complexity. First, I’m going to set up training for 10-fold cross validation, repeated 10 times.</p>
<pre class="r"><code>trControl &lt;- trainControl(method = &quot;repeatedcv&quot;, number = 10, repeats = 10)</code></pre>
<p>Since I want to be able to compare results between each model, I’m going to use <code>set.seed</code> so my CV splits are identical for each model.</p>
<pre class="r"><code>set.seed(34)
#LDA
fit_lda &lt;- train(Species~., data = irisDF_train, method = &quot;lda&quot;, trControl = trControl)
set.seed(34)
#CART
fit_cart &lt;- train(Species~., data = irisDF_train, method = &quot;rpart&quot;, trControl = trControl)
set.seed(34)
#kNN
fit_knn &lt;- train(Species~., data = irisDF_train, method = &quot;knn&quot;, trControl = trControl)
set.seed(34)
#SVM
fit_svm &lt;- train(Species~., data = irisDF_train, method = &quot;svmRadial&quot;, trControl = trControl)
set.seed(34)
#Random Forest
fit_rf &lt;- train(Species~., data = irisDF_train, method = &quot;rf&quot;, trControl = trControl)</code></pre>
<p>Of course, <code>caret</code> allows for in depth custom model parameter tuning, but I’m going to leave it here for now.</p>
</div>
<div id="model-performance" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Model Performance</h1>
<p>The next step is to compare performance between the models and make statistical statements about their performance differences. First, I’ll use <code>resamples</code> to compile the resampling results from each model training.</p>
<pre class="r"><code>resamps &lt;- resamples(list(
  lda = fit_lda, 
  cart = fit_cart, 
  knn = fit_knn, 
  svm = fit_svm, 
  rf = fit_rf
))</code></pre>
<p>The easiest way to quickly compare model performance is to simply pass the resample object to <code>summary</code>, which will print relevant metrics for each model. Since this is a classification problem, accuracy and kappa are chosen by default, though these can be set with the metric argument in <code>train</code>.</p>
<pre class="r"><code>summary(resamps)</code></pre>
<pre><code>## 
## Call:
## summary.resamples(object = resamps)
## 
## Models: lda, cart, knn, svm, rf 
## Number of resamples: 100 
## 
## Accuracy 
##           Min.   1st Qu.    Median      Mean 3rd Qu. Max. NA&#39;s
## lda  0.8333333 0.9166667 1.0000000 0.9750000       1    1    0
## cart 0.7500000 0.9166667 0.9166667 0.9316667       1    1    0
## knn  0.8333333 0.9166667 1.0000000 0.9525000       1    1    0
## svm  0.7500000 0.9166667 1.0000000 0.9566667       1    1    0
## rf   0.7500000 0.9166667 0.9166667 0.9441667       1    1    0
## 
## Kappa 
##       Min. 1st Qu. Median    Mean 3rd Qu. Max. NA&#39;s
## lda  0.750   0.875  1.000 0.96250       1    1    0
## cart 0.625   0.875  0.875 0.89750       1    1    0
## knn  0.750   0.875  1.000 0.92875       1    1    0
## svm  0.625   0.875  1.000 0.93500       1    1    0
## rf   0.625   0.875  0.875 0.91625       1    1    0</code></pre>
<p>Or if you need a visual to understand stats, like me, then you can simply pass the resample object to <code>dotplot</code> from the <code>lattice</code> package.</p>
<pre class="r"><code>trellis.par.set(caretTheme())
dotplot(resamps)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>There are several other ways to visualize <a href="https://topepo.github.io/caret/model-training-and-tuning.html#exploring-and-comparing-resampling-distributions">performance comparisons</a> using <code>lattice</code> and <code>caret</code>, e.g. <code>splom(resamps)</code> produces a scatterplot matrix of direct model comparisons, but for the sake of brevity I’m not going to get into any more here.</p>
<p>Since I set the seed before each model training step, my models were trained on the exact same splits of the dataset and so it makes sense to compare them directly by taking the differences in performance. I can then use a simple t-test to determine if the model performance actually differs to a chosen level of statistical confidence.</p>
<pre class="r"><code>difValues &lt;- diff(resamps)
summary(difValues)</code></pre>
<pre><code>## 
## Call:
## summary.diff.resamples(object = difValues)
## 
## p-value adjustment: bonferroni 
## Upper diagonal: estimates of the difference
## Lower diagonal: p-value for H0: difference = 0
## 
## Accuracy 
##      lda       cart      knn       svm       rf       
## lda             0.043333  0.022500  0.018333  0.030833
## cart 1.832e-09           -0.020833 -0.025000 -0.012500
## knn  0.001821  0.011018            -0.004167  0.008333
## svm  0.003648  2.055e-05 1.000000             0.012500
## rf   2.261e-08 0.047945  1.000000  0.014501           
## 
## Kappa 
##      lda       cart      knn      svm      rf      
## lda             0.06500   0.03375  0.02750  0.04625
## cart 1.832e-09           -0.03125 -0.03750 -0.01875
## knn  0.001821  0.011018           -0.00625  0.01250
## svm  0.003648  2.055e-05 1.000000           0.01875
## rf   2.261e-08 0.047945  1.000000 0.014501</code></pre>
<p>By using <code>diff</code> and <code>summary</code> this is achieved in two lines of code. The printout provided by summary here is really handy, the top diagonal displays estimates of the differences between models and the bottom diagonal displays p-values for t-tests with the null hypothesis that the differences are equal to zero.</p>
<p>If I instead want to visualize the distribution of differences, I can do so using any of the methods described above for viewing model performance.</p>
<pre class="r"><code>trellis.par.set(caretTheme())
bwplot(difValues)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
</div>
<div id="model-selection" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Model Selection</h1>
<p>Based on the above investigation, it looks like LDA is my best model, though it doesn’t perform better than kNN according to my t-test of differences. There are a number of ways to investigate my chosen model. The first, most simple method is to pass my train object to <code>print</code>.</p>
<pre class="r"><code>print(fit_lda)</code></pre>
<pre><code>## Linear Discriminant Analysis 
## 
## 120 samples
##   4 predictor
##   3 classes: &#39;setosa&#39;, &#39;versicolor&#39;, &#39;virginica&#39; 
## 
## No pre-processing
## Resampling: Cross-Validated (10 fold, repeated 10 times) 
## Summary of sample sizes: 108, 108, 108, 108, 108, 108, ... 
## Resampling results:
## 
##   Accuracy  Kappa 
##   0.975     0.9625</code></pre>
<p>I can also visualize in a cross tab format using <code>CrossTable</code> from the <a href="https://rdrr.io/cran/gmodels/"><code>gmodels</code></a> package. I like the crosstab version for classification problems because one look and it’s abundantly clear where any miscategorizations lie.</p>
<pre class="r"><code>lda_pred &lt;- predict(fit_lda, newdata = irisDF_train)
reference &lt;- y
gmodels::CrossTable(reference, lda_pred)</code></pre>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## | Chi-square contribution |
## |           N / Row Total |
## |           N / Col Total |
## |         N / Table Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  120 
## 
##  
##              | lda_pred 
##    reference |     setosa | versicolor |  virginica |  Row Total | 
## -------------|------------|------------|------------|------------|
##       setosa |         40 |          0 |          0 |         40 | 
##              |     53.333 |     13.000 |     13.667 |            | 
##              |      1.000 |      0.000 |      0.000 |      0.333 | 
##              |      1.000 |      0.000 |      0.000 |            | 
##              |      0.333 |      0.000 |      0.000 |            | 
## -------------|------------|------------|------------|------------|
##   versicolor |          0 |         38 |          2 |         40 | 
##              |     13.333 |     48.077 |      9.959 |            | 
##              |      0.000 |      0.950 |      0.050 |      0.333 | 
##              |      0.000 |      0.974 |      0.049 |            | 
##              |      0.000 |      0.317 |      0.017 |            | 
## -------------|------------|------------|------------|------------|
##    virginica |          0 |          1 |         39 |         40 | 
##              |     13.333 |     11.077 |     46.959 |            | 
##              |      0.000 |      0.025 |      0.975 |      0.333 | 
##              |      0.000 |      0.026 |      0.951 |            | 
##              |      0.000 |      0.008 |      0.325 |            | 
## -------------|------------|------------|------------|------------|
## Column Total |         40 |         39 |         41 |        120 | 
##              |      0.333 |      0.325 |      0.342 |            | 
## -------------|------------|------------|------------|------------|
## 
## </code></pre>
<p>Now I’ll check my model against the test dataset I held out from model training. By testing with a dataset that the model has not yet seen, I’m getting an independent measure of model accuracy which will alert me to any mistakes in model training, especially overfitting. I can then use <code>confusionMatrix</code> to generate a crosstab of results, along with a number of other model performance statistics, explained in detail <a href="https://topepo.github.io/caret/measuring-performance.html#measures-for-predicted-classes">elsewhere</a>.</p>
<pre class="r"><code>lda_pred_test &lt;- predict(fit_lda, newdata = irisDF_test)
confusionMatrix(lda_pred_test, irisDF_test$Species)</code></pre>
<pre><code>## Confusion Matrix and Statistics
## 
##             Reference
## Prediction   setosa versicolor virginica
##   setosa         10          0         0
##   versicolor      0         10         0
##   virginica       0          0        10
## 
## Overall Statistics
##                                      
##                Accuracy : 1          
##                  95% CI : (0.8843, 1)
##     No Information Rate : 0.3333     
##     P-Value [Acc &gt; NIR] : 4.857e-15  
##                                      
##                   Kappa : 1          
##                                      
##  Mcnemar&#39;s Test P-Value : NA         
## 
## Statistics by Class:
## 
##                      Class: setosa Class: versicolor Class: virginica
## Sensitivity                 1.0000            1.0000           1.0000
## Specificity                 1.0000            1.0000           1.0000
## Pos Pred Value              1.0000            1.0000           1.0000
## Neg Pred Value              1.0000            1.0000           1.0000
## Prevalence                  0.3333            0.3333           0.3333
## Detection Rate              0.3333            0.3333           0.3333
## Detection Prevalence        0.3333            0.3333           0.3333
## Balanced Accuracy           1.0000            1.0000           1.0000</code></pre>
<p>In this case my LDA model predicted the test dataset with 100% accuracy! The iris dataset is very easy to model though, so let’s not throw any parades just yet.</p>
</div>
<div id="model-visualization" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Model Visualization</h1>
<p>I also just want to mention a method or two to visualize the models trained by this workflow. I feel like often the disconnect to understanding, and sometimes distrust, of these kinds of models is the lack of a clean and understandable visual of what the model <em>looks like</em>.</p>
<p>The model that won the day in this exercise is LDA. LDA is particularly interesting to me because I run a lot of PCAs. LDA is like a supervised learning version of the unsupervised PCA, because LDA uses the <em>correct</em> answers from the dependent variable while PCA does not. Therefore, LDA should in theory give better data separation. Since both methods provide dimensionality reduction, they are good candidates to visualize in 2D scatter plots.</p>
<pre class="r"><code>#run pca for comparison
pca &lt;- prcomp(irisDF %&gt;% select(-Species), center = TRUE, scale. = TRUE)
#prop variance explained
prop_pca = pca$sdev^2/sum(pca$sdev^2)

#predict lda on full dataset
lda_pred_total &lt;- predict(fit_lda$finalModel, newdata = irisDF[-5])
#prop variance explained
prop_lda &lt;- fit_lda$finalModel$svd^2/sum(fit_lda$finalModel$svd^2)

plotDF = data.frame(
  species = irisDF$Species,
  pca = pca$x, lda = lda_pred_total$x
)

library(scales)
library(patchwork)
p1 &lt;- ggplot(plotDF) + geom_point(aes(lda.LD1, lda.LD2, colour = species, shape = species), size = 2.5) + 
  labs(x = paste0(&quot;LD1 (&quot;, percent(prop_lda[1]), &quot;)&quot;),
       y = paste0(&quot;LD2 (&quot;, percent(prop_lda[2]), &quot;)&quot;)) + 
  theme_bw()

p2 &lt;- ggplot(plotDF) + geom_point(aes(pca.PC1, pca.PC2, colour = species, shape = species), size = 2.5) +
  labs(x = paste0(&quot;PC1 (&quot;, percent(prop_pca[1]), &quot;)&quot;),
       y = paste0(&quot;PC2 (&quot;, percent(prop_pca[2]), &quot;)&quot;)) + 
  theme_bw()

wrap_plots(list(p1, p2), nrow = 2, guides = &quot;collect&quot;)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>It is visually clear that the LDA displays far better separation between versicolor and virginica than the PCA does. LD1 also explains 99% of the variance, which means this data can be effectively reduced to a single variable!</p>
<p>I really like decision trees. I just think it’s really fascinating that machine learning algorithms can produce such a humanly output as a decision tree. Unlike many of the ML models, which require a robot brain to understand, the decision tree is immediately recognizable. So just for fun, I want to show how easy it is to visualize the CART model I trained above, which still had &gt; 90% accuracy.</p>
<pre class="r"><code>par(xpd = NA) # otherwise on some devices the text is clipped
plot(fit_cart$finalModel)
text(fit_cart$finalModel, digits = 3)</code></pre>
<p><img src="/post/2021-06-24-5-basic-machine-learning-algorithms-with-the-caret-package_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>The decision tree above is telling me that I can categorize the data with &gt; 90% accuracy by making simple above/below decisions on 1-2 variables. That’s really cool to me.</p>
</div>
<div id="conclusion" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Conclusion</h1>
<p>I haven’t exactly set the world on fire with the models I’ve trained in this post, but my intent was to simply walk through the ML workflow in R using <code>caret</code> and I think I’ve done a decent job of that. As ML gains more and more fame, the massive potential upside becomes more and more clear. At the same time the barrier to entry is dropping rapidly, as I’ve shown in this post the workflow is quite simple and accessibility quite high. This is very exciting but also underpins the importance on model selection, understanding, and interpretation.</p>
</div>
